{"version":3,"sources":["components/NewRental/NewRental.module.css","components/Navbar/Navbar.jsx","services/tokenService.js","services/userService.js","components/SignupForm/SignupForm.jsx","pages/SignupPage/SignupPage.jsx","pages/LoginPage/LoginPage.jsx","services/rentalService.js","pages/RentalList/RentalList.jsx","components/NewRental/NewRental.jsx","components/ProtectedRoute/ProtectedRoute.jsx","pages/App/App.js","reportWebVitals.js","index.js"],"names":["module","exports","Navbar","props","className","to","activeClassName","currentUser","onClick","handleLogout","firstName","getToken","token","localStorage","getItem","JSON","parse","atob","split","exp","Date","now","removeItem","setToken","setItem","getUserFromToken","user","removeToken","BASE_URL","signup","fetch","method","headers","Headers","body","stringify","then","res","ok","json","Error","tokenService","getUser","login","credentials","logout","SignupForm","handleChange","event","setState","target","name","value","handleSubmit","a","preventDefault","userService","state","console","log","lastName","email","password","confirmPassword","onSubmit","this","type","placeholder","onChange","Component","SignupPage","updateMessage","msg","message","LoginPage","handleSignupOrLogin","history","push","createRental","data","id","deleteRental","getUserRentals","RentalList","useState","setCurrentUser","useHistory","useEffect","rentalService","rentals","handleDeleteRental","length","map","rental","idx","e","_id","dateRented","returnDate","equipment","set","skis","poles","helmet","boots","NewRental","setDateRented","setReturnDate","setEquipment","handleFormSubmit","formData","isReturned","style","evt","slice","ProtectedRoute","component","restOfProps","isAuthenticated","render","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be409e71.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"rental\":\"NewRental_rental__2noXE\"};","import React from \"react\"\r\nimport \"./Navbar.css\"\r\nimport { NavLink } from \"react-router-dom\"\r\n \r\nfunction Navbar(props) {\r\n  return (\r\n    <div className=\"nav\">\r\n      <div>\r\n        <h1>Ski Rental App</h1>\r\n      </div>\r\n      <ul>\r\n        <li>\r\n          <NavLink to=\"/\" activeClassName=\"active\">\r\n            Home\r\n          </NavLink>\r\n        </li>\r\n        {props.currentUser && (\r\n          <>\r\n            <li>\r\n              <NavLink to=\"/rentals\" activeClassName=\"active\">\r\n                Rentals\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink to=\"/rentals/new\" activeClassName=\"active\">\r\n                Create a Rental\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink\r\n                to=\"\"\r\n                activeClassName=\"active\"\r\n                onClick={props.handleLogout}\r\n              >\r\n                Logout\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <span className=\"user\">\r\n                Welcome {props.currentUser.firstName}\r\n              </span>\r\n            </li>\r\n          </>\r\n        )}\r\n        {!props.currentUser && (\r\n          <>\r\n            <li>\r\n              <NavLink to=\"/login\" activeClassName=\"active\">\r\n                Login\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink to=\"/signup\" activeClassName=\"active\">\r\n                Signup\r\n              </NavLink>\r\n            </li>\r\n          </>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n \r\nexport default Navbar","function setToken(token){\r\n    if(token){\r\n        localStorage.setItem('token', token)\r\n    }else {\r\n       localStorage.removeItem('token') \r\n    }\r\n}\r\n\r\nfunction getToken(){\r\n    let token = localStorage.getItem('token')\r\n    if(token){\r\n        const payload = JSON.parse(atob(token.split('.')[1]))\r\n        if(payload.exp < Date.now() / 1000){\r\n            localStorage.removeItem('token')\r\n            token = null\r\n        }\r\n    }\r\n    return token\r\n}\r\n\r\nfunction getUserFromToken(){\r\n    const token = getToken()\r\n    return token ? JSON.parse(atob(token.split('.')[1])).user : null\r\n}\r\n\r\nfunction removeToken() {\r\n    localStorage.removeItem('token');\r\n}\r\n\r\nexport default {\r\n    setToken,\r\n    getToken,\r\n    getUserFromToken,\r\n    removeToken\r\n}","import tokenService from './tokenService'\r\nconst BASE_URL = '/api/users'\r\n\r\nfunction signup(user){\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: new Headers({'Content-Type': 'application/json'}),\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(res => {\r\n        if (res.ok) return res.json()\r\n        throw new Error('Email already taken')\r\n    })\r\n    .then( ({token}) => tokenService.setToken(token))\r\n}\r\n\r\nfunction login(credentials){\r\n    return fetch(`${BASE_URL}/login`, {\r\n        method: 'POST',\r\n        headers: new Headers({'Content-Type': 'application/json'}),\r\n        body: JSON.stringify(credentials)\r\n    })\r\n    .then(res => {\r\n        if (res.ok) {return res.json()\r\n        }else{\r\n            throw new Error('Username or password incorrect!')\r\n            //console.log(res.json())\r\n        }\r\n    })\r\n    .then( ({token}) => tokenService.setToken(token))\r\n}\r\n\r\nfunction logout() {\r\n    tokenService.removeToken();\r\n}\r\n\r\nfunction getUser() {\r\n    return tokenService.getUserFromToken();\r\n}\r\n\r\nexport default {\r\n    signup,\r\n    getUser,\r\n    login,\r\n    logout\r\n}","import React, { Component } from 'react'\r\n\r\nimport userService from '../../services/userService'\r\n\r\n\r\nclass SignupForm extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            firstName: '',\r\n            lastName:'',\r\n            email: '',\r\n            password: '',\r\n            confirmPassword: ''\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault()\r\n        /**send data to api by calling the signup function in your userService */\r\n        try {\r\n            await userService.signup(this.state)\r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n    render(){\r\n        return (\r\n            <form onSubmit={this.handleSubmit}>\r\n                <h3>Sign Up</h3>\r\n                <div className=\"form-group\">\r\n                    <input type=\"text\" placeholder=\"First Name\" className=\"form-control\" name=\"firstName\" onChange={this.handleChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"text\" placeholder=\" Last Name\" className=\"form-control\" name=\"lastName\" onChange={this.handleChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"email\" placeholder=\"Email\" className=\"form-control\" name=\"email\" onChange={this.handleChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"password\" placeholder=\"Password\" className=\"form-control\" name=\"password\" onChange={this.handleChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"password\" placeholder=\"Confirm Pasword\" name=\"confirmPassword\" className=\"form-control\" onChange={this.handleChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <button className=\"btn btn-default\">Sign up</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\nexport default SignupForm","import React, { Component } from 'react';\r\nimport SignupForm from '../../components/SignupForm/SignupForm';\r\nimport './SignupPage.css';\r\n\r\nclass SignupPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {message: ''}\r\n  }\r\n\r\n  updateMessage = (msg) => {\r\n    this.setState({message: msg});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='SignupPage'>\r\n        <SignupForm {...this.props} updateMessage={this.updateMessage} />\r\n        <p>{this.state.message}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignupPage;","import React, { Component } from 'react'\r\n\r\nimport userService from '../../services/userService'\r\nimport './LoginPage.css'\r\n\r\nclass LoginPage extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault()\r\n        /**send data to api by calling the signup function in your userService */\r\n        try {\r\n            await userService.login(this.state)\r\n            this.props.handleSignupOrLogin()\r\n            //redirect to home page\r\n            this.props.history.push('/')\r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n    render(){\r\n        return (\r\n            <div className=\"LoginPage\">\r\n            <form onSubmit={this.handleSubmit}>\r\n                <h3>Log In</h3>\r\n                <div className=\"form-group\">\r\n                    <input type=\"email\" placeholder=\"Email\" className=\"form-control\" name=\"email\" onChange={this.handleChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"password\" placeholder=\"Password\" className=\"form-control\" name=\"password\" onChange={this.handleChange}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <button className=\"btn btn-default\">Log in</button>\r\n                </div>\r\n            </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default LoginPage","import tokenService from './tokenService'\r\nconst BASE_URL = '/api/rentals'\r\n\r\nexport async function createRental(data){\r\n    console.log(data);\r\n    return fetch('http://localhost:4000/api/rentals', {\r\n        method: 'POST',\r\n        headers: new Headers({\"Content-Type\": \"application/json\"}),\r\n        body: JSON.stringify(data)\r\n    }).then(res => res.json())\r\n}\r\n\r\nexport async function deleteRental(id){\r\n    return fetch(`http://localhost:4000/api/rentals/delete/${id}`, {\r\n        method: 'Delete',\r\n    }).then(res => res.json())\r\n}\r\n\r\nexport async function getUserRentals(){\r\n    \r\n    return fetch('http://localhost:4000/api/rentals', {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-type': 'application/json',\r\n            // Add this header - don't forget the space after Bearer\r\n            'Authorization': 'Bearer ' + tokenService.getToken()\r\n          },\r\n        \r\n    }).then(res => res.json())\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    createRental,\r\n    deleteRental,\r\n    getUserRentals\r\n}","import React, { useState, useEffect } from \"react\"\r\nimport { useHistory } from 'react-router-dom'\r\nimport rentalService from \"../../services/rentalService\";\r\nimport \"./RentalList.css\"\r\n \r\nfunction RentalList() {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const history = useHistory();\r\n  useEffect(async () => {\r\n    let rentals = await rentalService.getUserRentals();\r\n    setCurrentUser(rentals);\r\n  }, [])\r\n\r\n  const handleDeleteRental = async (event, id) => { \r\n    const result = await rentalService.deleteRental(id);\r\n  } \r\n\r\n  return (\r\n    <div className=\"body\">\r\n      <div className=\"list-container\">\r\n        {currentUser?.length > 0 && (\r\n          <ul>\r\n            {currentUser?.map((rental, idx) => (\r\n              <li className=\"rental\" key={idx}>\r\n                <div>\r\n                  <div className=\"card-top\">\r\n                    <button className=\"btn btn-danger delete-button\" onClick = {e => handleDeleteRental(e, rental._id)}>X</button>\r\n                    <h4>Rental {idx+1}</h4>\r\n                  </div>\r\n                  <div className=\"rental-dates\">\r\n                    <p>Rental Date: {rental.dateRented.split('T')[0]}</p>\r\n                    <p>Return Date: {rental.returnDate.split('T')[0]}</p>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <ul className=\"equipment-list\">\r\n                      {rental?.equipment?.map((set, idx) => (\r\n                          <li key={idx} className=\"equipment-set\">\r\n                              <div><h5>Equipment Set {idx+1}</h5></div>\r\n                              <div>Skis: {set.skis}</div>\r\n                              <div>Poles: {set.poles}</div>\r\n                              <div>Helmet: {set.helmet}</div>\r\n                              <div>Boots: {set.boots}</div>\r\n                          </li>\r\n                      ))}\r\n                  </ul>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n        {currentUser?.length === 0 && (\r\n          <div><h1>You haven't rented any equipment</h1></div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n \r\nexport default RentalList","import React, {useState} from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { createRental } from '../../services/rentalService'\r\nimport style from './NewRental.module.css'\r\n\r\nfunction NewRental(props){\r\n\r\n    const [dateRented, setDateRented] = useState('')\r\n    const [returnDate, setReturnDate] = useState('')\r\n    const [equipment, setEquipment] = useState([])\r\n    const history = useHistory()\r\n\r\n    const handleDateRentedChange = (event) => {\r\n        \r\n        setDateRented(event.target.value)\r\n    }\r\n\r\n    const handleReturnDateChange = (event) => {\r\n\r\n        setReturnDate(event.target.value)\r\n    }\r\n\r\n    const handleAddEquipmentSet = (event) => {\r\n        event.preventDefault()\r\n        setEquipment([\r\n            ...equipment,\r\n            { skis: '', poles: '', helmet: '', boots: '' }\r\n            ])\r\n    }\r\n\r\n    const handleFormSubmit = async (event) => {\r\n        event.preventDefault()\r\n        const formData = {\r\n            dateRented,\r\n            returnDate,\r\n            equipment,\r\n            isReturned: false\r\n        }\r\n        const result = await createRental(formData)\r\n        history.push('/rentals')\r\n    }\r\n    \r\n    return(\r\n        <div className={style.rental}>\r\n         <h3>Add New Rental</h3>   \r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label>Date Rented</label>\r\n                <input value={dateRented} type=\"date\" className=\"form-control\" onChange={handleDateRentedChange}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label>Return Date</label>\r\n                <input value={returnDate} type=\"date\" className=\"form-control\" onChange={handleReturnDateChange}/>\r\n            </div>\r\n            <div>\r\n                {equipment.map((set, idx) => (\r\n                    <div key={idx} className=\"form-group\">\r\n                        <label>Equipment Set {idx+1}</label>\r\n                        <div className=\"form-group\">\r\n                            <label>Skis</label>\r\n                            <select value={set.skis} onChange={(evt) => {\r\n                                setEquipment([\r\n                                    ...equipment.slice(0, idx),\r\n                                    {\r\n                                        ...equipment[idx],\r\n                                        skis: evt.target.value\r\n                                    },\r\n                                    ...equipment.slice(idx+1)  \r\n                                ])\r\n                            }} name=\"skis\">\r\n                                <option value=''>-</option>\r\n                                <option value=\"Salomon\">Salomon</option>\r\n                                <option value=\"K2\">K2</option>\r\n                                <option value=\"Volkl\">Volkl</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Poles</label>\r\n                            <select value={set.poles} onChange={(evt) => {\r\n                                setEquipment([\r\n                                    ...equipment.slice(0, idx),\r\n                                    {\r\n                                        ...equipment[idx],\r\n                                        poles: evt.target.value\r\n                                    },\r\n                                    ...equipment.slice(idx+1)  \r\n                                ])\r\n                            }} name=\"poles\">\r\n                                <option value=''>-</option>\r\n                                <option value=\"Salomon\">Salomon</option>\r\n                                <option value=\"K2\">K2</option>\r\n                                <option value=\"Volkl\">Volkl</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label >Helmet</label>\r\n                            <select value={set.helmet} onChange={(evt) => {\r\n                                setEquipment([\r\n                                    ...equipment.slice(0, idx),\r\n                                    {\r\n                                        ...equipment[idx],\r\n                                        helmet: evt.target.value\r\n                                    },\r\n                                    ...equipment.slice(idx+1)  \r\n                                ])\r\n                            }} name=\"helmet\">\r\n                                <option value=''>-</option>\r\n                                <option value=\"Salomon\">Salomon</option>\r\n                                <option value=\"K2\">K2</option>\r\n                                <option value=\"Volkl\">Volkl</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Boots</label>\r\n                            <select value={set.boots} onChange={(evt) => {\r\n                                setEquipment([\r\n                                    ...equipment.slice(0, idx),\r\n                                    {\r\n                                        ...equipment[idx],\r\n                                        boots: evt.target.value\r\n                                    },\r\n                                    ...equipment.slice(idx+1)  \r\n                                ])\r\n                            }} name=\"boots\">\r\n                                <option value=''>-</option>\r\n                                <option value=\"Salomon\">Salomon</option>\r\n                                <option value=\"K2\">K2</option>\r\n                                <option value=\"Volkl\">Volkl</option>\r\n                            </select>\r\n                        </div> \r\n                    </div>        \r\n                ))}\r\n                <button className=\"btn btn-primary\" onClick={handleAddEquipmentSet}>Add Equipment</button>\r\n            </div>\r\n            <button className=\"btn btn-primary\" onClick={handleFormSubmit}>Submit</button>\r\n        </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewRental","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport userService from '../../services/userService'\r\n\r\n\r\nfunction ProtectedRoute({component: Component, ...restOfProps}){\r\n    const isAuthenticated = userService.getUser()\r\n\r\n    return (\r\n        <Route\r\n            {...restOfProps}\r\n                render={(props) => \r\n                isAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />    \r\n            }\r\n        />\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute","import {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport { Component } from 'react'\nimport './App.css';\nimport Navbar from '../../components/Navbar/Navbar';\nimport userService from \"../../services/userService\";\nimport SignupPage from '../../pages/SignupPage/SignupPage'\nimport LoginPage from \"../LoginPage/LoginPage\";\nimport RentalList from \"../RentalList/RentalList\";\nimport NewRental from \"../../components/NewRental/NewRental\";\nimport ProtectedRoute from \"../../components/ProtectedRoute/ProtectedRoute\";\n\nclass App extends Component {\n\n  constructor(){\n    super()\n    this.state = {\n      user: userService.getUser()\n    }\n  }\n\n  handleSignupOrLogin = () => {\n    this.setState({user: userService.getUser()})\n  }\n\n  handleLogout = () => {\n    userService.logout();\n    this.setState({ user: null });\n  }\n\n  render(){\n    return (\n      <Router>\n        <div className=\"App\">\n          <Navbar \n            currentUser = {this.state.user} \n            handleLogout = {this.handleLogout}\n          />\n        </div>\n        <Switch>\n          <Route path='/' exact>\n            <h1>Welcome to the Ski Rental App</h1>\n          </Route>\n          <ProtectedRoute exact path='/rentals'>\n            <RentalList currentUser = {this.state.user}/>\n          </ProtectedRoute>\n          <ProtectedRoute path='/rentals/new' component={<NewRental currentUser={this.state.user}/>}>\n            <NewRental currentUser = {this.state.user}/>\n          </ProtectedRoute>\n          {/* Could Not get single line protected routes to work when passing props into the component\n          <ProtectedRoute exact path='/rentals' component={<RentalList currentUser = {this.state.user}/>}/>\n          <ProtectedRoute path='/rentals/new' component={<NewRental currentUser={this.state.user}/>}/> */}\n          <Route path='/signup'>\n            <SignupPage />\n          </Route>\n          <Route path='/login' render={\n            ({ history }) =>\n            <LoginPage\n              history={history}\n              handleSignupOrLogin={this.handleSignupOrLogin}\n              />\n          }></Route>\n        </Switch>\n      </Router>\n    )\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './pages/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}